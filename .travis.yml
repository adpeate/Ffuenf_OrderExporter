language: php
sudo: false
cache:
  apt: true
  directories:
  - "$HOME/.composer/cache"
  - "$HOME/.cache/bin"
  - "$HOME/.n98-magerun/modules"
  - "$HOME/.cache/magento"
php:
- 7.0
- 7.1
- 7.2
matrix:
  fast_finish: true
  allow_failures:
  - php: 7.1
  - php: 7.2
env:
  global:
  - APPNAME=Ffuenf_OrderExporter
  - secure: 4VxwgXZZMofs495KhYqwz7rzDB64wJJ5yVHB32g16RPEXBD9M71ehjlMNl3XSXslsvN7wMDvBvvO6Y67sFXGPhgsyhd2Z4g6qdVAr3kaPu3tXamqyISRiT9QSTpnwLUX3iWbqo+jK0pTdKOFauTiB19yk5K3nmU6xL22FlFsG/2f6vnUOLAPAGU9B0mttlhzJjYUegm5kh0WGVNVBOFWPaOgGpWbs2nLFTz4Ar4fAsboykfE7qP17k34VMQAjmRnMuiQpK84RvEl21exie/yjWoZdueKMAo/HspLHyQ56/T7nLj1iGiHMng3wDfqLsi7HYXCFwfiFv650yD5Yh+ZRKck1jkUOLbIzT6Xh0ew8GMr3HTfvO5Ep1J1URELBtnlc04IrzPuy6Dt+60Wjwl3bfO7nl9EohRm9YwQo9s19OBO/fVu9MOPYD6+XXeb/kht4mkhRCZcFQZa3w5SS27y7A/QHZI1bA0DL4XHhrpv9LfBYfhv6VxIILXCU0O+JaTdcwHXWJyJfOP4l98p9yyYcTb/FzB9xJRMYgk9ZQEP6dqoE8xTVfrfNSOrAJpsESlRFyujqffuj3y/CGZbFfUaDtWGvZKcqs7BHhrRkInU4a/3CPToDsLUYYeJaMWymaNQRzgMbAP18aqm3qAbMLt80oi38iNbxpqzZ3bu6p3C0N8=
  - secure: 3qzEbpXRQscTsMx9ZQcfarLl46B1F0+FSieLyWep0IWriAYk1SRnpOj48fgVryU/qu5Z8eGqCx3hIcwvj8WQN3D83BLZhAqlTaxDSaa3/owvwgSp3XsITeIH2wfHnPgl4PG0jrRXSS0XE08JKFpdMSzWwuryOfRlBuYVcMsyGeQDjTKfidvD12mdcaOLO+knjjGm6gkLlEfMfPH0CY3fSZHkwOYUMW7cvw0ksG7YQ/cf0gBkgB1iqbGt5m4RNbT8NlgGhkJYida+sm6ArG5Pfgfmft/TyfLKX3W+NmVWfxVhJHuDsUGZi6VTFtosi26nfVnkgZbFK1Fy3qj7xzvoKGHULajs7HYsxhKpOirGIEq3K1BpW7ZQ6aNcchW/J2j9XbMwGHNQ9ELGyIpUf33TzofKvMqDYm3XdNRG0wF12dqn3Hycfhhcm/mUqUdDFcFbS64zNTXJLLbP1VronsWudf8T9vtXhAWjvnF99w3h4cE92WDjyofIYEpLFIozO9fMtjqd0L+UeF2oyrzeXRNtM03YaWkd6WJ/CkA8goyeFgp5x0TOaPJB85hLax3y2zpYVnfHfAKt4v4kPyClbxA2wsfh2gXlU8+AB2v80LJnqTE5Hq+tXhzv9g8rkWx+1Fh9DiirquuhmYGdxdrp9YGWn5DkHYoHNQ9GgnxpDRLfb+s=
  - secure: QpjHSMHQ7eKqhfbqDMkfToc8e6mq5vDsofyrq70kruWnnsGByC78QZEMMYMrXzkVYOwjPvZjRPnVPBtsGNuQkM623tFGTSi2/6eLXCQKWlZDLlD9Smjhx3eFwfNvr3oGSUOhP2J5G1KNqgmB/TUaNs4+neWWsPIRZcBG32CPo8BgV2hRRI786v3QBMd3NffHPPXPNbB5F2K3VZhy0RXCi61jFkIEl/hKR2nJKeY9usDTO5+ihivHPyPDbOVYVwecMpmvl58CZarKHzV/w7mZ38Z8o/OIs4O7pikXrFfHwdxpqHAsPXWy4O4SeRMDbSwssvkO5A6IFlegrvLiWpfRNJwnhHIWPpUDLFDWkhZp1ltDgGu61BoVBJwPDh7KVckYw1XnwHD7bkoNILXw00FrSzgF65KCUeU5slNTiqaRRrnMtih5yJOdfPhjT1mlPYbBDanfxjAfXhzMvBa8mdZydV7THQJgdGqnX2AfqpjT477IOIURjcIoRQb9eGE3CHjihYJ3RFwynFd8/LF49OvOnqZOSm1Pzhtq9iN6smzWhz9cSfM/A1H+KsMaRXlE/PbvOMWEeY3kF9xA+Vl7RZtYnot1eoUw4QgDh2+GrPY5V0s+kBOK6UwF3XkdBfkKLk8MoX3pdGMRofr5LbKz1n94xxm0/j8cEkdQMOzOyMiVeto=
  matrix:
  - MAGENTO_VERSION=ce-1.9.3.7
  - MAGENTO_VERSION=ce-1.9.2.4
  - MAGENTO_VERSION=ce-1.9.1.1
before_install:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/before_install.sh
  | bash
script:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/script.sh
  | bash
deploy:
  provider: releases
  file:
  - "${APPNAME}-${TRAVIS_TAG}.zip"
  - "${APPNAME}-${TRAVIS_TAG}.tar.gz"
  skip_cleanup: true
  on:
    branch: master
    tags: true
  api_key:
    secure: dTdiSduw4u468e54P66frICZSTDCYFD9KPqwqwo+yfR3ujUnkvVtDm+3JXXZ8yqGogToAyTBIOluFWhy+OMkizgE0ous6f1q3uk6Wuf9e8y4DQLcfNWn8Kf8p6RUCStBVWvaDHZOcBf4qra3tDxxQiqzFO/0jkNzcS1k9GDsLCK9pgkJBthJO/abUiJ2K/WHWSWpUHJLpn2M+zyKOAvWD3lG8++16q49I+TtLR3nNqInWwYHJYnxu5C8+EWH4qiWdK+q91pwKhuMTf7mYvAeAF/LX840SgD5S5rDlN0JLsVbGIS1cF8Ziqshkmkmf+YMRvknaebjRP0XifgZ/a4mgyqvYPA3W301To8QjWMJCUHNk45YVk1Gpoc1/FcNtyhq0wABsbiyQ/AnN0UToxGY0r3XxUw8ygpgACX4JkFRFJTmHdI21r2B89yIEoQBoSg5UVexTHx4vL4MN9I45Ypk8uDCSrTkc6l7qiBAn+BOI/KXYmm/gzzFsKszdt6oYkrbm5oXZlcoAoXXehbMId6igOF4V2V6jVf0jAD75fopZsg0MehE7WRP8QxWsxlYS23We7Lpfz9cSe9RPbDog0DNXvgj6z7bzgCuSmz2kQLOQaaORuk49QJ51dwl0Hdk1nZYJp2zUDquQLcDTXZV8s5YCpykD8VeVTz+Yy9AUX5DNCY=
notifications:
  slack:
    secure: U3pyYZ7uukKChncOUyQ5DyB/q+Fu8Dx4ttBrYp3JqfBbmaFpXp0MYE4cU/cFBt4ahSWQ+6ZdvDU3SruGLUVNCKzCAFqW8iibkM3IEhOXjtVEGrvW/F0cCOumFHMDDY+J9+5HuoNY4s8gFXNGj/ctNtXrkrAjO6yykNneK65OXXWw8KoDJ5bF5ymx1Fjt8bJyB4DwmOJ7BQNeeBOmlEgSciOBiVlHPl6i3Rn6SWR2JLdu4HXOCn1J7/HeSDsUaLVA5cMH/SEPOD089yvKeqzHarmUWo9U2/acXiFL9AE0p8cE5AQEIQP+994YN3x9Nug6NnpNKxSrSldG5iy0aL3l6i7tv4aXBL97aqn0w6pb51/JLPdl69n8EIdTFATdK6zz4zra/DiZ/VXFtB+tonJ0xI9JgSj1Yy8hTW6OxYYx1ZjX7GVtJGPlZSEAD2fdNwiS/Crl06lQCqCMgT/zaBEhRHKigMabljEjQLF+W0yyUEx8X3p+pKxW82SwdSZ8WcAX+/nLPTKUEwTNBSjoZaHVyb1uKUph0yQkQfJeCsDrvZnYaPDnc65xngjbnbK/Fw8jdfb2oL7aJcJ/P2s9H8o3e0YosZe/79jRC2vbsP0YQo+75muM/fNxxbCVhW10ywerUdS2ynxKsAB7HcGgBLuehog+J8QmbCHwA/rfilRMbqY=
